**Bilibili AI Skip** 是一款智能 Chrome 浏览器扩展程序，旨在提升 Bilibili 用户的视频观看体验。通过结合人工智能技术，该扩展能够自动识别并跳过视频中的广告片段，让用户专注于内容本身，无需手动操作即可享受无缝观看。

### 核心功能

1. **广告自动识别**
   * 使用 AI 技术分析视频字幕或音频，精准定位广告的开始和结束时间。
   * 支持多种广告类型，包括产品推广、品牌宣传等。
2. **灵活的跳过选项**
   * ​**自动跳过**​：开启后，广告开始时自动跳转到广告结束位置。
   * ​**手动跳过**​：显示广告信息（如产品名称和内容），用户可选择跳过或继续观看。
3. **用户友好界面**
   * 通过弹出窗口（Popup）提供设置界面，用户可轻松启用/禁用扩展、配置 API 密钥等。
   * 在视频播放器中显示实时提示，告知广告跳过状态。
4. **高度可配置**
   * 支持自定义 OpenAI API 和阿里云百炼 API 的密钥、URL 和模型。

### 技术实现

* **前端技术**
  * 使用 HTML、CSS 和 JavaScript 构建用户界面和交互逻辑。
  * 基于 Chrome 扩展的 Manifest V3 规范开发。
* **后端支持**
  * ​**字幕分析**​：从 Bilibili 视频 API 获取字幕数据，利用 OpenAI 的语言模型（如 **gpt-4o-mini**）识别广告内容。
  * ​**音频分析**​：通过阿里云百炼的语音转录服务（**paraformer-v2**），将视频音频转换为字幕，再进行广告识别。
* **跨域处理**
  * 使用背景脚本（**background.js**）代理对阿里云 API 的请求，解决 CORS 限制。
* **数据存储**
  * 利用 **chrome.storage.sync** 保存用户设置，支持多设备同步。

### 安装与使用

#### 安装步骤

1. **下载项目**
   从 GitHub 仓库（[https://github.com/qingmeng1/bilijump-ai](https://github.com/qingmeng1/bilijump-ai)）克隆或下载项目代码。
2. **加载扩展**
   * 打开 Chrome 浏览器的 "扩展程序" 页面（**chrome://extensions/**）。
   * 启用 "开发者模式"。
   * 点击 "加载已解压的扩展程序"，选择项目文件夹。
3. **配置 API 密钥**
   * 点击浏览器右上角的扩展图标，打开弹出窗口。
   * 输入以下信息：
     * ​**API Key**​：OpenAI 或兼容服务的密钥。
     * ​**API URL**​：API 端点（如 **https://www.openai.com/v1/chat/completions**）。
     * ​**API Model**​：使用的模型（如 **gpt-4o**）。
     * ​**Aliyun API Key**​：阿里云百炼的密钥。
   * 保存设置。

#### 使用方法

1. 打开任意 Bilibili 视频页面（例如 **https://www.bilibili.com/video/BVxxx**）。
2. 扩展会自动运行：
   * 如果视频有字幕，直接分析字幕。
   * 如果无字幕，使用音频转录生成字幕后再分析。
3. 根据设置：
   * 自动跳过广告，或显示跳过按钮供手动选择。
4. 通过页面上的弹出提示查看跳过状态。

### 特点与优势

* ​**智能高效**​：利用 AI 技术，准确识别广告，避免误跳剧情内容。
* ​**用户控制**​：提供自动和手动跳过选项，满足不同需求。
* ​**开源免费**​：项目完全开源，用户可自由修改和扩展。
* ​**跨平台兼容**​：基于 Chrome 扩展，支持所有支持 Chrome 的操作系统。

### 系统要求

* ​**浏览器**​：Google Chrome（推荐最新版本）。
* ​**网络**​：稳定的互联网连接，用于调用 OpenAI 和阿里云 API。
* ​**API 密钥**​：有效的 OpenAI 和阿里云百炼 密钥。

### 已知限制

* 短视频（小于 120 秒）默认不处理，以避免误操作。
* 依赖外部 API 服务，需确保密钥有效且网络畅通。
* 部分复杂广告可能需要多次尝试识别。

### 未来计划

* 支持更多视频平台（如 YouTube、优酷等）。
* 添加广告识别结果的缓存机制，提升重复观看效率
